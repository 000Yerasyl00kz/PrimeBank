<!DOCTYPE html>
    <html lang="ru">
    <head>
    <meta charset="UTF-8">
    <title>PrimeBank — Кредит одобрен</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <link rel="icon" type="image/png" sizes="32x32" href="/img/logopng.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/logopng.png">
    <link rel="apple-touch-icon" href="/img/logopng.png">

<style>
    * { box-sizing: border-box; font-family: Roboto, "Open Sans", sans-serif; margin: 0; padding: 0; }
    body {
        background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        padding: 40px 20px;
        color: #203a43;
        position: relative;
    }
    body::before {
        content: "PrimeBank";
        position: absolute;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        font-size: 120px; font-weight: 900;
        color: rgba(255,255,255,0.05);
        white-space: nowrap; z-index: 0;
        user-select: none; pointer-events: none;
        animation: pulse 6s ease-in-out infinite;
    }
    @keyframes pulse { 0%,100% { transform: translate(-50%, -50%) scale(1); } 50% { transform: translate(-50%, -50%) scale(1.02); } }

    .container {
        position: relative; z-index: 1;
        background: #fff;
        border-radius: 16px;
        padding: 32px;
        max-width: 700px;
        width: 100%;
        box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        animation: fadeIn 0.6s ease;
    }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

    h1 { text-align: center; font-size: 24px; margin-bottom: 20px; }
    h2 { font-size: 20px; margin-top: 20px; margin-bottom: 10px; color: #203a43; }
    p { font-size: 14px; margin-bottom: 16px; line-height: 1.5; color: #555; }

    .data-row {
        display: flex; justify-content: space-between; margin-bottom: 12px; padding: 10px 0;
        border-bottom: 1px solid #eee;
    }
    .data-row span { font-weight: 500; }
    .data-row span.value { font-weight: 400; color: #203a43; }

    .summary {
        margin-top: 20px; background: #f1f3f5; padding: 20px; border-radius: 12px;
    }
    .summary-row { display: flex; justify-content: space-between; margin-bottom: 12px; font-weight: 500; }

    @media (max-width: 480px) {
        .container { padding: 24px 16px; }
        h1 { font-size: 20px; }
        h2 { font-size: 18px; }
    }

    .get-btn {
        width: 100%;
        margin-top: 30px;
        padding: 14px;
        border-radius: 12px;
        border: none;
        background: #203a43;
        color: #fff;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: 0.3s;
    }
    .get-btn:hover {
        background: #162b33;
        transform: translateY(-2px);
    }


</style>
</head>
<body>

    <div class="container">
        <h1 id="greeting">Уважаемый клиент, вам одобрен кредит</h1>

        <h2>Ваши данные:</h2>
        <div id="clientData"></div>

        <h2>Одобрено:</h2>
        <div class="summary" id="loanSummary"></div>

        <button class="get-btn" id="getLoanBtn">Получить</button>
    </div>

<script>
    const data = JSON.parse(localStorage.getItem("loanNoCollateralForm"));
    const clientName = localStorage.getItem("name");

    if(data) {
    // Вычисления
    const loanAmount = parseFloat(data.loanAmount);
    const loanTerm = parseInt(data.loanTerm);
    const interestRate = 0.20; // 20%
    const totalReturn = loanAmount + loanAmount*interestRate;
    const monthlyPayment = totalReturn / loanTerm;

    // Приветствие
    document.getElementById("greeting").textContent =
        `Уважаемый ${clientName || ""}, вам одобрен кредит под 20% годовых на сумму ${loanAmount.toLocaleString()} тенге!`;

    // Данные клиента
    const clientFields = [
        ["ФИО", clientName || ""],
        ["ИИН", data.iin],
        ["Номер удостоверения личности", data.idNumber],
        ["Адрес прописки", data.registeredAddress],
        ["Фактический адрес проживания", data.actualAddress || "-"],
        ["Сотовый номер", data.mobilePhone],
        ["Домашний номер", data.homePhone],
        ["Место работы", data.workPlace],
        ["Номер рабочего телефона", data.workPhone],
        ["Ежемесячный доход", data.income]
    ];

    const clientDataDiv = document.getElementById("clientData");
    clientFields.forEach(f => {
        const div = document.createElement("div");
        div.className = "data-row";
        div.innerHTML = `<span>${f[0]}:</span> <span class="value">${f[1]}</span>`;
        clientDataDiv.appendChild(div);
    });

    // Одобрено
    const loanSummaryDiv = document.getElementById("loanSummary");
    const summaryFields = [
        ["Сумма займа", `${loanAmount.toLocaleString()} тенге`],
        ["Срок займа", `${loanTerm} месяцев`],
        ["Процент", "20% годовых"],
        ["Сумма возврата", `${totalReturn.toLocaleString()} тенге`],
        ["Ежемесячный платеж", `${monthlyPayment.toLocaleString()} тенге`]
    ];
    summaryFields.forEach(f => {
        const div = document.createElement("div");
        div.className = "summary-row";
        div.innerHTML = `<span>${f[0]}:</span> <span>${f[1]}</span>`;
        loanSummaryDiv.appendChild(div);
    });
    } else {
    document.body.innerHTML = "<div style='text-align:center; margin-top:50px; color:#fff;'>Данные не найдены. Пожалуйста, заполните заявку.</div>";
    }
    document.getElementById("getLoanBtn").addEventListener("click", () => {
        // при необходимости можно сохранить флаг или статус
        localStorage.setItem("loanStatus", "approved");

        // редирект на страницу ввода карты
        window.location.href = "document.html";
    });
</script>

</body>
</html>


