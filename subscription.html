<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Подписка на сервис</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

<link rel="icon" type="image/png" sizes="32x32" href="/img/logopng.png">
<link rel="icon" type="image/png" sizes="16x16" href="/img/logopng.png">
<link rel="apple-touch-icon" href="/img/logopng.png">

<style>
* { box-sizing: border-box; font-family: Roboto, "Open Sans", sans-serif; }

body {
    margin:0;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    padding:20px;
    position:relative;
}

body::before {
    content:"Service";
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    font-size:120px;
    font-weight:900;
    color:rgba(255,255,255,0.05);
    pointer-events:none;
}

.subscription-box {
    background:#fff;
    border-radius:16px;
    padding:32px;
    max-width:400px;
    width:100%;
    box-shadow:0 25px 50px rgba(0,0,0,0.2);
    text-align:center;
    z-index:1;
}

.subscription-box h1 {
    margin-bottom:16px;
    font-size:22px;
    color:#203a43;
}

.subscription-box p {
    margin-bottom:24px;
    color:#555;
}

.subscribe-btn {
    width: 100%;
    height: 50px;
    padding: 0;
    border-radius: 12px;
    border: none;
    background: #203a43;
    color: #fff;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: 0.3s;
    text-decoration: none;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 12px;
}

.subscribe-btn:hover {
    background:#162b33;
    transform:translateY(-2px);
}

.subscribe-btn.success {
    background:#1b7f4a;
}

.status {
    margin-top:12px;
    font-size:13px;
    color:#555;
    display:none;
}

.status.show {
    display:block;
}

@media (max-width:480px){
    .subscription-box{ padding:24px 16px;}
    h1{font-size:20px;}
}
</style>
</head>

<body>

<div class="subscription-box">
    <h1>Подписка на сервис</h1>
    <p>Оплатите 5000₸ за страховку. Вашим страховщиком вступает оранизация QPlus</p>

    <!-- КНОПКА ОПЛАТЫ -->
    <a id="qiwi-btn"
       class="subscribe-btn"
       target="_self">
        Оплатить
    </a>

    <!-- ПОДТВЕРЖДЕНИЕ -->
    <button id="confirm-btn" class="subscribe-btn">
        Оплачено
    </button>

    <div id="status" class="status">
        Платёж отправлен. Проверяем оплату...
    </div>
</div>

<script>

/* ===============================
   НАСТРОЙКА ССЫЛКИ QIWI
=============================== */

// ВСТАВЬ СВОЮ ССЫЛКУ СЮДА
const QIWI_URL = "https://qplus.ru/replenish/invoice/074496a8-2dc7-4a77-8880-21f1d240c42b";

const qiwiBtn = document.getElementById("qiwi-btn");
qiwiBtn.href = QIWI_URL;


/* ===============================
   ПОДТВЕРЖДЕНИЕ
=============================== */

let paymentOpened = false;

qiwiBtn.addEventListener("click", () => {
    paymentOpened = true;
});

const confirmBtn = document.getElementById("confirm-btn");
const statusEl = document.getElementById("status");

confirmBtn.addEventListener("click", () => {

    if (!paymentOpened) {
        alert("Сначала перейдите к оплате через QIWI.");
        return;
    }

    confirmBtn.classList.add("success");
    confirmBtn.innerText = "Ожидает проверки";
    confirmBtn.disabled = true;

    statusEl.classList.add("show");

    // редирект через 60 секунд
    setTimeout(() => {
        window.location.href = "success.html";
    }, 60000);
});

</script>

</body>
</html>

